"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{7283:function(e,r,t){t.r(r);var n=t(4051),o=t.n(n),a=t(5893),u=t(7294),i=t(9435),l=t(5847);function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function f(e,r,t,n,o,a,u){try{var i=e[a](u),l=i.value}catch(c){return void t(c)}i.done?r(l):Promise.resolve(l).then(n,o)}function s(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function u(e){f(a,n,o,u,i,"next",e)}function i(e){f(a,n,o,u,i,"throw",e)}u(void 0)}))}}function v(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){v(e,r,t[r])}))}return e}function y(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],u=!0,i=!1;try{for(t=t.call(e);!(u=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);u=!0);}catch(l){i=!0,o=l}finally{try{u||null==t.return||t.return()}finally{if(i)throw o}}return a}}(e,r)||p(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,r){if(e){if("string"===typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,r):void 0}}var m=function(e){var r=!0,t=!1,n=void 0;try{for(var o,a=Object.entries(l.at)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var u=y(o.value,2),i=u[0],c=u[1];if(e.includes(c))return e.replace(c,"".concat(i,":"))}}catch(f){t=!0,n=f}finally{try{r||null==a.return||a.return()}finally{if(t)throw n}}return e};r.default=function(e){var r=e.eventNode,t=(0,u.useState)({}),n=t[0],c=t[1],f=(0,u.useState)({}),y=f[0],p=f[1],h=(0,u.useState)([]),g=h[0],w=h[1],k=(0,u.useCallback)(function(){var e=s(o().mark((function e(r){var t,a,u,i,f,s,h,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=m(r))in n)){e.next=3;break}return e.abrupt("return");case 3:return c(d({},n,v({},t,!0))),e.next=6,(0,l.tr)(r);case 6:a=e.sent,u=a.filter((function(e){return"NamedNode"===e.o.termType})),i=a.filter((function(e){return"Literal"===e.o.termType})),f=i.reduce((function(e,r){var t=r.p,n=r.o;return e+="\u2192 ".concat(m(t.value)," ").concat(m(n.value),"<br>")}),""),s=u.reduce((function(e,r){var t=r.o,n=m(t.value);return e[n]={id:n,group:0},e}),{}),h=d({},y,v({},t,{id:t,label:f,group:0}),s),p(h),k=u.map((function(e){var r=e.p,n=e.o;return{source:t,target:m(n.value),label:m(r.value)}})),w(b(g).concat(b(k)));case 15:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),[n,y,g]);(0,u.useEffect)((function(){if(!r)return p({}),w([]),void c({});s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(m(r.value));case 2:case"end":return e.stop()}}),e)})))()}),[r]);var S=(0,u.useMemo)((function(){return Object.values(y)}),[y]),x=(0,u.useMemo)((function(){return g.map((function(e){return{source:e.source,target:e.target,label:e.label}}))}),[g]),j=(0,u.useCallback)((function(e,t,o){var a,u,i=e,l=e.x,c=e.y,f=e.id,s=i.color;i.id===m(null!==(a=null===r||void 0===r?void 0:r.value)&&void 0!==a?a:"")?s="red":n[null!==(u=i.id)&&void 0!==u?u:""]&&(s="yellow");var v=14/o;t.font="".concat(v,"px Sans-Serif");var d=[t.measureText(f).width,v].map((function(e){return e+.2*v}));t.textAlign="center",t.textBaseline="middle",t.fillStyle=s,t.fillText(f,l,c),i.__bckgDimensions=d}),[null===r||void 0===r?void 0:r.value,n]),O=(0,u.useCallback)((function(e){k(e.id)}),[k]);return(0,a.jsx)(i.Z,{width:1153,height:500,nodeLabel:"label",linkLabel:"label",graphData:{nodes:S,links:x},backgroundColor:"#101020",nodeAutoColorBy:"group",onNodeClick:O,nodeCanvasObject:j,nodePointerAreaPaint:function(e,r,t){var n=e,o=e.x,a=e.y;t.fillStyle=r;var u=n.__bckgDimensions;u&&t.fillRect(o-u[0]/2,a-u[1]/2,u[0],u[1])},linkColor:function(){return"rgba(255,255,255,0.3)"},linkDirectionalParticles:2,linkDirectionalParticleWidth:2,d3VelocityDecay:.1})}}}]);